==================================================================
LOCK & RAM Strategy V3: Ultra-Aggressive (epsilon=15)
==================================================================
Job ID: 14245788
Node: jrc0223
Started: Sun Nov 23 10:38:22 AM CET 2025
GPUs: 2 (parallelized)
Expected duration: ~40-60 minutes for ~18 failed images
==================================================================

=== GPU Information ===
index, name, memory.total [MiB], driver_version
0, NVIDIA A100-SXM4-40GB, 40960 MiB, 580.95.05
1, NVIDIA A100-SXM4-40GB, 40960 MiB, 580.95.05
2, NVIDIA A100-SXM4-40GB, 40960 MiB, 580.95.05
3, NVIDIA A100-SXM4-40GB, 40960 MiB, 580.95.05

âœ“ Found previous submission: output/submission_ram_v2.npz
âœ“ Found API logits JSON: logs/api/logits_submission_ram_v2_partial_10images_20251123_102855.json
======================================================================
Lock & Ram Solver V2 - Multi-GPU Initialization
======================================================================
GPUs: 2
GPU 0: NVIDIA A100-SXM4-40GB
  Memory: 42.41 GB
GPU 1: NVIDIA A100-SXM4-40GB
  Memory: 42.41 GB

Loading dataset: ../natural_images.pt
âœ“ Loaded 100 images
  Shape: torch.Size([100, 3, 28, 28])
  Labels: torch.Size([100])
======================================================================

======================================================================
LOCK & RAM STRATEGY V2
======================================================================

Step 1: LOCK - Loading previous submission
  File: output/submission_ram_v2.npz

Loading previous submission: output/submission_ram_v2.npz
âœ“ Loaded 100 adversarial images
  Shape: (100, 3, 28, 28)
  Image IDs: (100,)

Step 2: LOCK - Identifying SUCCESS/FAILED from API results
  API logits JSON: logs/api/logits_submission_ram_v2_partial_10images_20251123_102855.json

Identifying SUCCESS/FAILED from API results: logs/api/logits_submission_ram_v2_partial_10images_20251123_102855.json
âœ“ Identified from API results:
  SUCCESS (misclassified): 82 images
  FAILED (correctly classified): 18 images

âœ“ Locked 82 SUCCESS images (will be frozen)
âœ“ Targeting 18 FAILED images for RAM attack

Step 3: RAM - Multi-GPU parallelized attack on API failures

======================================================================
RAM ATTACK V2: Multi-GPU Parallelized Attack on API Failures
======================================================================

Configuration:
  Target images: 18 (from API failures)
  GPUs: 2
  Epsilon (fixed): 30.0
  Kappa: 50.0
  PGD steps: 250
  Restarts: 10
  Alpha factor: 2.5
  Momentum: 0.9
  Input Diversity: ENABLED
  Binary Search: DISABLED (fixed epsilon)
  Remaining to process: 18 images
  GPU 0: 9 images
  GPU 1: 9 images
  âœ“ ResNet50
  âœ“ ResNet50
  âœ“ DenseNet121
âœ“ Loaded 2 ImageNet models + 0 CIFAR models
  Total ensemble size: 2
[GPU 1] Worker started - 9 images
  âœ“ DenseNet121
âœ“ Loaded 2 ImageNet models + 0 CIFAR models
  Total ensemble size: 2
[GPU 0] Worker started - 9 images
[GPU 0] Image ID   6: âœ— FAILED | L2: 23.0858 (norm: 0.4760) | Margin: +42.03
[GPU 1] Image ID  56: âœ— FAILED | L2: 22.6175 (norm: 0.4664) | Margin: +42.09

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed

ğŸ’¾ Progress: 2/18 images processed
[GPU 1] Image ID  71: âœ— FAILED | L2: 22.9377 (norm: 0.4730) | Margin: +32.68
[GPU 0] Image ID   7: âœ— FAILED | L2: 22.8007 (norm: 0.4701) | Margin: +37.59

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed

ğŸ’¾ Progress: 4/18 images processed
[GPU 1] Image ID  72: âœ— FAILED | L2: 22.7528 (norm: 0.4692) | Margin: +32.16
[GPU 0] Image ID  17: âœ— FAILED | L2: 22.6784 (norm: 0.4676) | Margin: +32.64

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed

ğŸ’¾ Progress: 6/18 images processed
[GPU 1] Image ID  73: âœ— FAILED | L2: 23.0439 (norm: 0.4752) | Margin: +32.34
[GPU 0] Image ID  23: âœ— FAILED | L2: 22.3642 (norm: 0.4611) | Margin: +33.67

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed

ğŸ’¾ Progress: 8/18 images processed
[GPU 1] Image ID  87: âœ— FAILED | L2: 22.9987 (norm: 0.4742) | Margin: +33.85
[GPU 0] Image ID  26: âœ— FAILED | L2: 22.5529 (norm: 0.4650) | Margin: +37.16

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed

ğŸ’¾ Progress: 10/18 images processed
[GPU 1] Image ID  90: âœ— FAILED | L2: 22.9008 (norm: 0.4722) | Margin: +31.68
[GPU 0] Image ID  27: âœ— FAILED | L2: 22.5253 (norm: 0.4645) | Margin: +39.38

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed

ğŸ’¾ Progress: 12/18 images processed
[GPU 1] Image ID  93: âœ— FAILED | L2: 22.6364 (norm: 0.4668) | Margin: +31.15
[GPU 0] Image ID  29: âœ— FAILED | L2: 23.5595 (norm: 0.4858) | Margin: +30.77

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed

ğŸ’¾ Progress: 14/18 images processed
[GPU 1] Image ID  94: âœ— FAILED | L2: 22.7181 (norm: 0.4684) | Margin: +46.79
[GPU 0] Image ID  33: âœ— FAILED | L2: 22.6907 (norm: 0.4679) | Margin: +30.44

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed

ğŸ’¾ Progress: 16/18 images processed
[GPU 1] Image ID  98: âœ— FAILED | L2: 22.5291 (norm: 0.4645) | Margin: +42.75
[GPU 1] Worker finished

ğŸ’¾ Progress: 17/18 images processed
[GPU 0] Image ID  38: âœ— FAILED | L2: 22.2898 (norm: 0.4596) | Margin: +32.79
[GPU 0] Worker finished

ğŸ’¾ Progress: 18/18 images processed

======================================================================
RAM Attack Complete
======================================================================

Total duration: 27.05 minutes
Average time per image: 90.2 seconds

RAM Attack Results:
  Successful: 0 (0.0%)
  Failed:     18

L2 Distances:
  Average (all, norm):    0.469306
  Average (success, norm): 0.000000

Confidence Margins:
  Average (all):     +35.664
  Average (success): +0.000
âœ“ Cleared checkpoint (run completed)

Step 4: MERGE - Combining frozen + RAM results

======================================================================
Merging Results: Lock (Frozen) + Ram (New)
======================================================================

Merge Summary:
  Frozen (SUCCESS from API): 82 images
  RAM (new attack): 18 images
  Missing (using original): 0 images
  Total: 100 images

âœ“ Saved merged submission to: output/submission_ram_v3.npz

======================================================================
LOCK & RAM V2 COMPLETE!
======================================================================

Output saved to: output/submission_ram_v3.npz

Next steps:
1. Review results: python analyze.py output/submission_ram_v3.npz --mode local
2. Submit to API: python submit.py output/submission_ram_v3.npz --action submit

==================================================================
Job completed: Sun Nov 23 11:05:34 AM CET 2025
Exit code: 0
==================================================================

âœ“ Lock & Ram V3 strategy completed successfully!

==================================================================
SUBMISSION INSTRUCTIONS
==================================================================

1. Review results locally (fast):
   python analyze.py output/submission_ram_v3.npz --mode local

2. Test transfer with API (wait 15 min after last query if needed):
   python analyze.py output/submission_ram_v3.npz --mode api

3. Submit to leaderboard (wait 5 min after last submission if needed):
   python submit.py output/submission_ram_v3.npz --action submit

==================================================================
NOTE: API rate limits:
  - Logits query: 1 every 15 minutes
  - Submission: 1 every 5 minutes
==================================================================
